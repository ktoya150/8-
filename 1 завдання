using System;


public delegate void BalanceChangedHandler(decimal newBalance);


public class BankAccount
{
    private decimal balance;

    public event BalanceChangedHandler BalanceChangedDeposit;
    public event BalanceChangedHandler BalanceChangedWithdraw;

    public void Deposit(decimal amount)
    {
        balance += amount;
        BalanceChangedDeposit?.Invoke(balance);
    }

    public void Withdraw(decimal amount)
    {
        if (amount <= balance)
        {
            balance -= amount;
            BalanceChangedWithdraw?.Invoke(balance);
        }
        else
        {
            Console.WriteLine("ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð½ÑŒÐ¾ ÐºÐ¾ÑˆÑ‚Ñ–Ð² Ð½Ð° Ñ€Ð°Ñ…ÑƒÐ½ÐºÑƒ.");
        }
    }
}


public class AccountMonitor
{
    public void OnBalanceChanged(decimal newBalance)
    {
        Console.WriteLine($"ðŸ”” Ð‘Ð°Ð»Ð°Ð½Ñ Ð·Ð¼Ñ–Ð½ÐµÐ½Ð¾. ÐÐ¾Ð²Ð¸Ð¹ Ð±Ð°Ð»Ð°Ð½Ñ: {newBalance} Ð³Ñ€Ð½");
    }
}


class Program
{
    static void Main()
    {
        BankAccount account = new BankAccount();
        AccountMonitor monitor = new AccountMonitor();

       
        account.BalanceChangedDeposit += monitor.OnBalanceChanged;
        account.BalanceChangedWithdraw += monitor.OnBalanceChanged;

        
        account.Deposit(1000);
        account.Withdraw(300);
        account.Withdraw(800); 
    }
}
